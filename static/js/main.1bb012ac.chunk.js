(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{123:function(t,e,n){"use strict";n.r(e);var i,a,s=n(7),o=n(0),c=n.n(o),r=n(10),l=n.n(r),u=(n(96),n(21)),h=n(16),d=n(14),j=n(53),p=n(52),f=n(146),b=n(5),m=n(148),x=n(149),g=n(150),v=n(151),O=n(152),k=n(128),C=n(153),w=n(82),T=n.n(w),S=n(59),N=n.n(S),y=n(77),L=n.n(y),B=(n(97),n(154)),U=n(81),M=n.n(U),D=Object(b.a)((function(t){return Object(f.a)({sliderSpacing:{paddingLeft:8,paddingRight:8}})}))(function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,t)).state={value:i.props.value},i.handleOnChange=i.handleOnChange.bind(Object(d.a)(i)),i}return Object(h.a)(n,[{key:"handleOnChange",value:function(t,e){"number"===typeof e?this.setState({value:e}):"object"===typeof e&&this.setState({value:e[0]}),this.props.onChange(this.state.value)}},{key:"render",value:function(){var t=this.props.classes;return Object(s.jsxs)("div",{children:[Object(s.jsxs)(M.a,{variant:"caption",id:"break-length",gutterBottom:!0,children:[this.props.label," (",this.state.value,this.props.labelSuffix,")"]}),Object(s.jsx)("div",{className:t.sliderSpacing,children:Object(s.jsx)(B.a,{value:this.state.value,step:this.props.step,min:this.props.min,max:this.props.max,onChange:this.handleOnChange,getAriaValueText:function(t){return"".concat(t,"m")},valueLabelDisplay:"off","aria-labelledby":"break-length"})})]})}}]),n}(o.Component)),F=function(){function t(e,n,i,a,s,o){Object(u.a)(this,t),this.name=e,this.min=n,this.max=i,this.value=a,this.next=s,this.notification=o}return Object(h.a)(t,[{key:"setNext",value:function(t){this.next=t}}]),t}(),R=[new F("Work",1,90,50),new F("Break",1,15,10)];R[0].setNext(R[1]),R[1].setNext(R[0]);var G=Object(b.a)((function(t){return Object(f.a)({root:{flexGrow:1},fillWidth:{width:"100%"},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1},gridContainer:{flexGrow:1,padding:8},paperContainer:{padding:8},sliderBox:{paddingTop:16}})}))((a=i=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,t)).timer=void 0,i.notification=void 0,i.state={workLength:50,breakLength:10,running:!1,secondsLeft:0,currentCountdown:i.props.countdowns[0]},i.getButtonText=i.getButtonText.bind(Object(d.a)(i)),i.handleStartStopOnClick=i.handleStartStopOnClick.bind(Object(d.a)(i)),i.updateSecondsLeft=i.updateSecondsLeft.bind(Object(d.a)(i)),i.showNotification=i.showNotification.bind(Object(d.a)(i)),i.handleNotificationClick=i.handleNotificationClick.bind(Object(d.a)(i)),i}return Object(h.a)(n,[{key:"getTimerText",value:function(t){var e=Math.floor(t/60/60),n=Math.floor((t-60*e*60)/60),i=Math.floor(t-60*e*60-60*n),a=[];return e>0&&a.push("".concat(e,"h")),n>0&&a.push("".concat(n,"m")),a.push("".concat(i,"s")),a.join(" ")}},{key:"getButtonText",value:function(){return this.state.running?"Stop":"Start"}},{key:"getNextCountdown",value:function(){return void 0!==this.state.currentCountdown.next?this.state.currentCountdown.next:this.state.currentCountdown}},{key:"stopTimer",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("Stopping, next timer:",this.getNextCountdown()),t&&this.state.currentCountdown.notification.show(),this.setState({running:!1,secondsLeft:0,currentCountdown:this.getNextCountdown()}),this.clearUpdateTimer()}},{key:"updateSecondsLeft",value:function(){if(void 0===this.state.endTime)return 0;var t=(this.state.endTime-Date.now())/1e3;this.state.running&&t>0?(this.setState({secondsLeft:Math.floor(t)}),this.setUpdateTimer()):this.stopTimer()}},{key:"setUpdateTimer",value:function(){var t=this;this.timer=setTimeout((function(){t.updateSecondsLeft()}),1e3)}},{key:"clearUpdateTimer",value:function(){clearTimeout(this.timer)}},{key:"showNotification",value:function(t){this.notification.supported()&&(this.notification.body=t,this.notification.show())}},{key:"handleStartStopOnClick",value:function(){if(this.state.running)this.stopTimer(!1);else{this.setState({running:!0});var t=Date.now()+60*this.state.currentCountdown.value*1e3,e=60*this.state.currentCountdown.value;this.setState({endTime:t,secondsLeft:e}),this.setUpdateTimer()}}},{key:"handleNotificationClick",value:function(t,e){window.focus(),e.notification.close(t.target.tag)}},{key:"renderSliders",value:function(){var t=this;return this.props.countdowns.map((function(e){return Object(s.jsxs)(m.a,{item:!0,children:[Object(s.jsx)(L.a,{onRef:function(t){return e.notification=t},title:"Task Timer",body:"".concat(e.name," completed!"),icon:"icon.png",tag:"task-timer",onClick:function(n){return t.handleNotificationClick(n,e)}}),Object(s.jsx)(D,{label:e.name,labelSuffix:"m",value:e.value,step:1,min:e.min,max:e.max,onChange:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;n.value=t}})]},e.name)}))}},{key:"render",value:function(){var t=this.props.classes;return Object(s.jsxs)("div",{className:t.root,children:[Object(s.jsx)(x.a,{position:"static",children:Object(s.jsxs)(g.a,{children:[Object(s.jsx)(v.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(s.jsx)(T.a,{})}),Object(s.jsx)(O.a,{variant:"h6",className:t.title,children:"Start a new task"}),Object(s.jsx)(N.a,{color:"inherit",children:"Test"})]})}),Object(s.jsxs)(m.a,{container:!0,className:t.gridContainer,spacing:2,children:[Object(s.jsxs)(m.a,{item:!0,xs:12,lg:2,children:[" ",Object(s.jsx)(k.a,{className:t.paperContainer,children:Object(s.jsxs)(m.a,{container:!0,direction:"column",spacing:2,children:[Object(s.jsx)(m.a,{item:!0,children:Object(s.jsx)(O.a,{variant:"h5",children:"Timer parameters"})}),Object(s.jsxs)(m.a,{item:!0,children:[Object(s.jsx)(C.a,{label:"Task Name"}),Object(s.jsx)("br",{})]}),this.renderSliders(),Object(s.jsx)(m.a,{item:!0,children:Object(s.jsx)(N.a,{variant:"contained",className:t.fillWidth,onClick:this.handleStartStopOnClick,children:this.getButtonText()})})]})})," "]}),Object(s.jsx)(m.a,{item:!0,xs:!0,children:Object(s.jsxs)(k.a,{className:t.paperContainer,children:[Object(s.jsxs)(O.a,{variant:"h5",children:[this.state.running?"Running":"On deck",": ",this.state.currentCountdown.name]}),Object(s.jsxs)(O.a,{variant:"h6",children:["Time left ",this.getTimerText(this.state.secondsLeft)]}),Object(s.jsxs)(O.a,{variant:"caption",children:["Up next: ",this.getNextCountdown().name]})]})})]})]})}}]),n}(o.Component),i.defaultProps={countdowns:R},a)),P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,155)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),i(t),a(t),s(t),o(t)}))};l.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(G,{})}),document.getElementById("root")),P()},96:function(t,e,n){},97:function(t,e,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.1bb012ac.chunk.js.map